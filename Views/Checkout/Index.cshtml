@model IList<COM5005.Web.Models.CartItem>
@{
    ViewBag.Title = "Ödeme Özeti";
    Layout = "~/Views/Shared/_Layout.cshtml";
    decimal total = Model.Sum(x => x.Price * x.Quantity);
}
<h1>Ödeme Özeti</h1>

<div class="row g-4">
  <div class="col-md-6">
    @using (Html.BeginForm("Place","Checkout", FormMethod.Post, new { @class="card p-3" }))
    {
      <label class="form-label">Ad Soyad</label>
      <input class="form-control mb-2" name="name" required />
      <label class="form-label">Telefon</label>
      <input class="form-control mb-2" name="phone" required />
      <label class="form-label">Adres</label>
      <textarea class="form-control mb-3" name="address" rows="4" required></textarea>
      <button class="btn btn-primary">Siparişi Tamamla</button>
    }
  </div>
  <div class="col-md-6">
    <div class="card p-3">
      <h5>Sepet Özeti</h5>
      <ul class="list-group mb-3">
        @foreach (var x in Model){
          <li class="list-group-item d-flex justify-content-between align-items-center">
            <span>@x.Name × @x.Quantity</span>
            <span>@(x.LineTotal.ToString("C"))</span>
          </li>
        }
      </ul>
      <div class="d-flex justify-content-between"><strong>Toplam</strong><strong>@total.ToString("C")</strong></div>
    </div>
  </div>
</div>
